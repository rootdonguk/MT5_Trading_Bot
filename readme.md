# FTMO DEMO 계정용 BTC 자동매매 봇 - 간단 가이드

## 🚀 빠른 시작 (3단계)

### 1단계: MT5 실행 및 로그인
```
1. MetaTrader 5 실행
2. FTMO 데모 계정으로 로그인
3. 로그인 상태 유지
```

### 2단계: Python 설치 (처음 한 번만)
```bash
# Python 설치 확인
python --version

# MetaTrader5 패키지 설치
pip install MetaTrader5
```

### 3단계: 봇 실행
```bash
python ftmo_btc_trader.py
```

**끝! 이제 자동으로 거래가 시작됩니다.**

---

## ⚙️ 설정 변경 (선택사항)

파일 상단의 `CONFIG`만 수정하면 됩니다:

```python
CONFIG = {
    'symbol': 'BTCUSD',         # BTC 심볼 (브로커마다 다를 수 있음)
    'lot_size': 0.01,           # 거래량
    'profit_target': 100.0,     # 목표 수익 ($)
    'magic_number': 888888,     
    'max_spread': 100,          # 최대 허용 스프레드
    'check_interval': 0.5,      # 체크 주기 (초)
    'deviation': 20,            
}
```

### 권장 설정

**보수적 (안전)**
```python
'lot_size': 0.01,
'profit_target': 50.0,
```

**표준**
```python
'lot_size': 0.02,
'profit_target': 100.0,
```

**공격적 (리스크 높음)**
```python
'lot_size': 0.05,
'profit_target': 200.0,
```

---

## 📊 실행 화면 설명

### 시작 시
```
MT5 연결 시도 중...
✓ MT5 연결 성공!

==================================================
  연결된 계좌 정보
==================================================
계좌 번호: 12345678
브로커: FTMO-Demo
계좌 잔고: $100,000.00
증거금: $100,000.00
여유 증거금: $99,500.00
레버리지: 1:100
==================================================
```

### 진입 시
```
==================================================
[14:23:45] 🚀 양방향 진입
==================================================
BTC 가격: $50,123.45
스프레드: 15.3 포인트 ($7.65)
거래량: 0.01 BTC
목표 수익: $100.00
==================================================

✓ 매수 주문 체결
  티켓: 987654321
  가격: $50,123.45
  수량: 0.01 BTC

✓ 매도 주문 체결
  티켓: 987654322
  가격: $50,115.80
  수량: 0.01 BTC
```

### 실시간 모니터링
```
[14:23:50] BTC: $50,145.30 | 포지션: 2 | 잔고: $100,000.00 | 미실현: +$15.25 | 누적: $0.00
[14:23:53] BTC: $50,187.60 | 포지션: 2 | 잔고: $100,000.00 | 미실현: +$56.80 | 누적: $0.00
[14:23:56] BTC: $50,223.45 | 포지션: 2 | 잔고: $100,000.00 | 미실현: +$95.30 | 누적: $0.00
```

### 청산 시
```
==================================================
💰 포지션 청산 완료!
==================================================
티켓: 987654321
타입: 매수 (LONG)
진입가: $50,123.45
청산가: $50,223.45
가격 변동: $100.00
이번 수익: $100.00
누적 수익: $100.00
==================================================

3초 후 재진입합니다...
```

---

## ❓ 자주 묻는 질문

### Q1: BTC 심볼을 찾을 수 없다고 나옵니다
**A:** FTMO는 `BTCUSD`, `BITCOIN`, `XBTUSD` 등 다양한 이름을 사용할 수 있습니다.

프로그램이 자동으로 사용 가능한 BTC 심볼을 찾아줍니다:
```
사용 가능한 BTC 심볼:
  1. BTCUSD
  2. Bitcoin
  3. XBTUSD
```

해당 심볼로 `CONFIG['symbol']`을 변경하세요.

### Q2: 주문이 계속 실패합니다
**A:** 다음을 확인하세요:
1. MT5에 로그인되어 있는지
2. 시장이 열려있는지 (BTC는 24/7이지만 브로커 점검시간 있음)
3. 증거금이 충분한지
4. 인터넷 연결 상태

### Q3: 수익이 목표보다 작게 나옵니다
**A:** 스프레드 비용 때문입니다. 
- 양방향 진입 시 매수가와 매도가의 차이(스프레드) × 2배 비용 발생
- 실제 수익 = 가격 변동 - 스프레드 비용
- 스프레드가 낮은 시간대에 거래하거나 목표 수익을 높이세요

### Q4: 한쪽 포지션만 수익이 나는데 다른 포지션은?
**A:** 정상입니다!
- BTC가 위로 가면: 매수 포지션 수익, 매도 포지션 손실
- BTC가 아래로 가면: 매도 포지션 수익, 매수 포지션 손실
- 목표 도달 시 수익 포지션만 청산하고 손실 포지션은 유지
- 가격이 반대로 돌아오면 손실 포지션도 수익 전환 가능

### Q5: 프로그램을 중단하고 싶습니다
**A:** `Ctrl + C`를 누르면 안전하게 중단됩니다.
```
⏹️  사용자에 의해 프로그램이 중단되었습니다

⚠️ 열린 포지션이 2개 있습니다
모든 포지션을 청산하시겠습니까? (y/n):
```

---

## 🎯 성공 팁

### 1. 최적 거래 시간
- **높은 변동성**: 미국 주식시장 개장 시간 (한국 시간 23:30-06:00)
- **낮은 스프레드**: 유동성이 높은 시간대

### 2. 목표 수익 설정
- BTC 일일 변동폭의 **5-10%** 정도로 설정
- 너무 크면: 청산이 거의 안 됨
- 너무 작으면: 스프레드 비용 대비 수익 적음
- 권장: **$50-$200**

### 3. 거래량 조정
- 계좌 잔고의 **0.1-0.2%** 리스크
- $10,000 계좌: 0.01 BTC
- $50,000 계좌: 0.02-0.05 BTC
- $100,000 계좌: 0.05-0.1 BTC

---

## ⚠️ 중요 주의사항

### 리스크
1. **양방향 손실 가능성**: 급격한 가격 왕복 시 양쪽 모두 손실 가능
2. **스프레드 비용**: 매 진입마다 스프레드 × 2배 비용 발생
3. **슬리피지**: 빠른 시장에서 원하는 가격에 못 들어갈 수 있음

### 권장사항
- ✅ 데모 계정에서 최소 1주일 테스트
- ✅ 작은 거래량으로 시작
- ✅ 변동성이 적당한 시간대 선택
- ✅ 정기적으로 수익/손실 확인
- ❌ 한 번에 많은 자금 투입하지 말 것
- ❌ 변동성이 극도로 높은 시기 피할 것

---

## 🔧 문제 해결

### 연결 실패
```
❌ MT5 초기화 실패
```
**해결**: 
1. MT5를 먼저 실행
2. 로그인 확인
3. 프로그램 재실행

### 주문 실패
```
❌ 매수 주문 실패
오류 코드: 10016
설명: 시장 마감 (Market closed)
```
**해결**: 브로커 점검시간이 아닌지 확인

### 심볼 오류
```
❌ BTCUSD 심볼을 찾을 수 없습니다
```
**해결**: 프로그램이 자동으로 표시하는 심볼 목록에서 선택

---

## 📞 추가 지원

프로그램은 다음 기능을 자동으로 제공합니다:
- ✅ 자동 MT5 연결 (로그인 정보 불필요)
- ✅ 계좌 잔고에 따른 거래량 자동 조정
- ✅ 사용 가능한 BTC 심볼 자동 검색
- ✅ 상세한 오류 메시지 및 해결 방법 안내
- ✅ 안전한 프로그램 종료 및 포지션 정리

**행운을 빕니다! 🚀**